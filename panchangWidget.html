<style>
#panchangWidget {
  background-color: #fff3e0;
  border: 2px solid #ffa726;
  border-radius: 10px;
  padding: 15px;
  max-width: 400px;
  font-family: sans-serif;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
#panchangWidget h3 {
  color: #e65100;
  text-align: center;
}
#hinduTime,
#sunTimes {
  margin-bottom: 10px;
}
#tithiBox {
  font-weight: bold;
}
</style>
<div id="panchangWidget">
  <h3>ЁЯУ┐ рдЖрдЬ рдХрд╛ рдкрдВрдЪрд╛рдВрдЧ</h3>
  <div id="hinduTime"></div>
  <div id="sunTimes"></div>
  <div id="tithiBox">ЁЯУЕ рдЖрдЬ рдХреА рддрд┐рдерд┐: рддреНрд░рдпреЛрджрд╢реА, рдХреГрд╖реНрдг рдкрдХреНрд╖, рдЬреНрдпреЗрд╖реНрда рдорд╛рд╕</div>
</div>

<script>
// Hindu Time (Ghati-Pal-Vipal)
function updateHinduTime() {
  const now = new Date();
  const istOffset = 5.5 * 60 * 60 * 1000;
  const istTime = new Date(now.getTime() + (now.getTimezoneOffset() * 60000) + istOffset);

  const midnight = new Date(istTime);
  midnight.setHours(0, 0, 0, 0);
  const msSinceMidnight = istTime - midnight;
  const totalSeconds = Math.floor(msSinceMidnight / 1000);
  const totalGhati = totalSeconds / (24 * 60); // 1 ghati = 24 mins = 1440 secs

  const ghati = Math.floor(totalGhati);
  const pal = Math.floor((totalGhati - ghati) * 60);
  const vipal = Math.floor((((totalGhati - ghati) * 60) - pal) * 60);

  const h = istTime.getHours().toString().padStart(2, '0');
  const m = istTime.getMinutes().toString().padStart(2, '0');
  const s = istTime.getSeconds().toString().padStart(2, '0');

  document.getElementById("hinduTime").innerHTML =
    `<strong>ЁЯХ░ IST:</strong> ${h}:${m}:${s}<br>
     <strong>ЁЯХЙ рд╣рд┐рдиреНрджреВ рд╕рдордп:</strong> ${ghati} рдШрдЯреА : ${pal} рдкрд▓ : ${vipal} рд╡рд┐рдкрд▓`;
}
setInterval(updateHinduTime, 1000);
updateHinduTime();

// Sunrise & Sunset Time
function fetchSunTime(lat, lng) {
  const apiURL = `https://api.sunrise-sunset.org/json?lat=${lat}&lng=${lng}&formatted=0`;

  fetch(apiURL)
    .then(response => response.json())
    .then(data => {
      const sunriseUTC = new Date(data.results.sunrise);
      const sunsetUTC = new Date(data.results.sunset);

      const sunriseIST = new Date(sunriseUTC.getTime() + (5.5 * 60 * 60 * 1000));
      const sunsetIST = new Date(sunsetUTC.getTime() + (5.5 * 60 * 60 * 1000));

      const formatTime = (d) => d.getHours().toString().padStart(2, '0') + ':' + d.getMinutes().toString().padStart(2, '0');

      document.getElementById("sunTimes").innerHTML =
        `<strong>ЁЯМЕ рд╕реВрд░реНрдпреЛрджрдп:</strong> ${formatTime(sunriseIST)} IST<br>
         <strong>ЁЯМЗ рд╕реВрд░реНрдпрд╛рд╕реНрдд:</strong> ${formatTime(sunsetIST)} IST`;
    })
    .catch(() => {
      document.getElementById("sunTimes").innerText = "Sunrise/Sunset time unavailable.";
    });
}

// ЁЯСЗ Change these coordinates to your desired location (example: Ahmedabad)
fetchSunTime(23.0225, 72.5714);
</script>
